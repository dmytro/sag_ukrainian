%--------------------------------------------------------------------
\chapter{Дерево директор╕й} \label{chap:walkabout}
%--------------------------------------------------------------------

        \begin{verse}\it
	Два дн╕ по тому там був Пух,\\
	сидячи на сво╖й г╕лц╕, колихаючи ногами ╕ \\
	там же, позаду нього, були чотири \\
	глечики меду\dots \\
	(A.A.\ М╕лн) \\
        \rm\end{verse}
	

	\noindent

	Цей розд╕л опису╓ важлив╕ частини стандартного дерева
	директор╕й Л╕накса, базуючись на стандарт╕ файлово╖ системи
	FSSTND. В╕н визнача╓ стандартний п╕дх╕д до розбиття дерева
	директор╕й на окрем╕ файлов╕ ситеми з р╕зним призначенням та
	да╓ пояснення для чого той чи ╕нший под╕л потр╕бен. Описуються
	також деяк╕ ╕снуюч╕ альтернативи.


%	\meta The next version of the FSSTND (1.3?) will cause many
%	minor changes, and some new ones, due to work to make the
%	FSSTND work for BSD systems as well.

\section{Основи}

	Цей розд╕л базу╓ться на стандарт╕ файлово╖ системи Л╕накса,
	FSSTND, верс╕╖ 1.2 (див. б╕бл╕ограф╕ю \cite{fsstnd-1.2}, який
	намага╓ться встановити стандарт того, як повинно бути
	орган╕зованим дерево директор╕й в Л╕накс╕. Позитивним у
	створенн╕ такого стандарту ╓ те, що з ним буде легше писати чи
	переносити з ╕ншо╖ системи програми в Л╕накс, а також
	адм╕н╕струвати машини з Л╕наксом, через те, що все в цьому
	випадку повинно бути на сво╖х звичних м╕сцях. За спиною цього
	стандарту нема╓ жодно╖ авторитетно╖ ╕нстанц╕╖, тим не менше,
	його п╕дтримують майже вс╕ робробники Л╕накса. Тому перш, н╕ж
	в╕дхилятися в╕д цього стандарту треба добре подумати ╕ мати на
	це справд╕ важлив╕ п╕дстави. Стандарт FSSTND намага╓ться
	сл╕дувати традиц╕ям Юн╕кса та сучасним тенденц╕ям, що робить
	Л╕накс знайомим тим, хто працював з ╕ншими верс╕ями Юн╕кса ╕
	навпаки.

	Цей розд╕л не наст╕льки детал╕зований, як стандарт FSSTND. Для
	кращого розум╕ння системи кожному системному адм╕н╕стратору
	варто прочитати FSSTND.

	Даний розд╕л не поясню╓ призначення кожного файлу в
	деталях. Наш╕ нам╕ри - не описати кожен файл, а дати загальн╕
	в╕домост╕ про систему з точки зору файлово╖ системи. Б╕льш
	детальна ╕нформац╕я про кожен окремий файл м╕ститься в ╕нших
	розд╕лах та стор╕нках п╕дказок - man pages.

	Все дерево директор╕й Л╕накса повинно бути спроектовано таким
	чином, щоб його можна було розд╕ляти на менш╕ частини. Кожну
	частину можна пом╕стити на окремому розд╕л╕ чи окремому диску,
	щоб ефективн╕ше використовувати його об'╓м та полегшити
	створення резервних коп╕й ╕ виконання ╕нших обов'язк╕в
	системного адм╕н╕стратора. Основн╕ частини цього дерева - це
	коренева файлова система (root), файлов╕ системи \fn{/usr},
	\fn{/var} та \fn{/home} (див. мал. ~\ref{fig:fstree}).  Кожна
	з частин файлово╖ системи ма╓ сво╓ призначення. Побудова
	дерева директор╕й така, що да╓ можлив╕сть ефективно╖ роботи в
	мереж╕. Комп'ютери в мереж╕ можуть сп╕льно користовуватися
	деякими частини файлових систем, що забезпечу╓ться через
	пристр╕й з доступом т╕льки на читання (наприклад, CD-ROM) або
	через мережу з NFS.

	
		\begin{figure}[htb]
		\begin{center}
		\includegraphics{walkabout/fstree.ps}
		\end{center}
		\caption{Частини дерева директор╕й Юн╕кса.
			Пунктирн╕ л╕н╕╖ вказують меж╕ п╕дрозд╕л╕в диск╕в.}
		\label{fig:fstree}
		\end{figure}

	Призначення р╕зних частин дерева директор╕й подано нижче.

		%
	\begin{itemize}
	\item

	Коренева файлова система ╓ специф╕чною для кожного комп'ютера
	(найчаст╕ше вона збер╕га╓ться на локальному диску, хоча може
	бути також ╕ на в╕ртуальному диску в пам'ят╕ (ramdisk) ╕ на
	диску в мереж╕). В ц╕й файлов╕й систем╕ знаходяться вс╕
	необх╕дн╕ для завантаження системи файли ╕ файли необх╕дн╕ для
	приведення системи в такий стан, коли на кореневу файлову
	систему можна змонтувати ╕нш╕ файлов╕ системи. Тобто, ╕ншими
	словами, зм╕ст коренево╖ файлово╖ системи повинен бути
	достатн╕м для однокористувацького режиму роботи. Вона повинна
	також мати в соб╕ засоби достатн╕ для ремонту з╕псовано╖
	системи та для в╕дновлення загублених файл╕в з резервних
	коп╕й.

	\item У файлов╕й систем╕ \fn{usr} знаходяться вс╕ команди,
	б╕бл╕отеки, дов╕дков╕ матер╕али (man pages) та ╕нш╕ файли, що
	не зм╕нюються в процес╕ звичайно╖ роботи системи. Це дозволя╓
	сп╕льно користуватися одними й тими ж файлами в мереж╕, що в
	свою чергу зменшу╓ варт╕сть системи (дуже часто \fn{usr} може
	мати сотн╕ ме╜абайт) ╕ полегшу╓ адм╕н╕стрування вс╕╓╖
	мереж╕. Щоб зм╕нити якусь програму в систем╕, треба
	модиф╕кувати т╕льки головну директор╕ю \fn{usr}, а не вс╕
	директор╕╖ \fn{/usr} на кожн╕й окрем╕й машин╕. Нав╕ть якщо
	директор╕я знаходиться на локальному диску, ╖╖ можна
	змонтувати з доступом т╕льки на читання (read-only). Таким
	чином можна зменшити шанси пошкодження файлово╖ системи при
	краху комп'ютера.

	\item Файлова система \fn{var} м╕стить файли, як╕ зм╕нюються
	при звичайн╕й робот╕ системи. Сюди в╕дносяться так╕ файли та
	директор╕╖ як, наприклад, директор╕╖ "<спулу"> (для електронно╖
	пошти, новин, принтер╕в, тощо), р╕зноман╕тн╕ файли ре╓страц╕╖
	\intnote{log files}, форматован╕ стор╕нки п╕дказок
	\intnote{catman} та деяк╕ тимчасов╕ файли.  Все, що
	знаходиться в сучасних системах в \fn{var}, традиц╕йно
	м╕стилося ран╕ше в п╕ддиректор╕ях файлово╖ системи \fn{usr},
	але це затруднювало монтування директор╕╖ \fn{usr} без дозволу
	на запис.

	\item Файлова система \fn{home} м╕стить домашн╕ директор╕╖
	користувач╕в системи, тобто вс╕ "<справжн╕"> дан╕ в
	систем╕. Вид╕лення домашн╕х директор╕й у ╖х власну файлову
	систему робить створення резервних коп╕й прост╕шим. ╤шн╕
	частини системи не потр╕бно резервувати, або, як м╕н╕мум, це
	не треба робити так часто. Велику директор╕ю \fn{home} можливо
	треба буде розбити на менш╕ файлов╕ системи, ╕ тод╕ потр╕бно
	буде розширити схему найменування на р╕внях нижчих за
	\fn{home}, наприклад, \fn{/home/students} та
	\fn{/home/staff}.

	\begin{intnote} 
	Або користуватися для цього тою або ╕ншою схемою автоматичного
	монтування директор╕й. Виб╕р в Л╕накс╕ зводиться або до
	користування \cmd{amd} - демоном автомонтування BSD, або до
	\cmd{autofs} - "<р╕дно╖"> системи автомонтування в Л╕накс╕, яка
	можлива з ядрами 2.x. Як та, так ╕ ╕нша схема мають сво╖ плюси
	та м╕нуси, але як т╕, так ╕ ╕нш╕ виходять за рамки тематики
	даного п╕дручника, а скор╕ше належать до Системно╖
	адм╕н╕страц╕╖ мереж╕. Можливо колись дойдуть руки ╕ до цього.
	\end{intnote}
	
	\end{itemize}

		% 

	Незважаючи на те, що р╕зноман╕тн╕ частини файлово╖ системи
	Л╕накса називалися файловими системами в попередн╕х абзацах,
	вони не обов'язково повинн╕ лежати на окремих дискових
	розд╕лах. В однокористувацьк╕й невеличк╕й систем╕ або в
	систем╕, де на реч╕ дивляться просто, вс╕ розд╕ли легко можна
	розташувати на одному дисковому розд╕л╕. Дерево директор╕й
	також можна под╕лити на п╕дрозд╕ли (або файлов╕ системи)
	базуючись на ╕нших критер╕ях. Все залежить в╕д розм╕р╕в диск╕в
	та в╕д того, як дисковий прост╕р вид╕ля╓ться для тих чи ╕нших
	потреб. Однак при всяк╕й схем╕ розпод╕лу, важливою залиша╓ться
	вимога, щоб вс╕ стандартн╕ \emph{назви} працювали. Нав╕ть,
	якщо, скаж╕мо \fn{var} та \fn{usr} знаходяться на одному
	п╕дрозд╕л╕, то назви \fn{/usr/lib/libc.a} та
	\fn{/var/adm/messages} повинн╕ ╕снувати. Цього можна добитися,
	наприклад, перен╕сши файли ╕з-п╕д \fn{/var} в \fn{/usr/var} та
	зробивши \fn{/var} символ╕чною ссилкою на \fn{/usr/var}.

	Файлова система Юн╕кс групу╓ файли в╕дпов╕дно до ╖х
	призначення, тобто, вс╕ команди знаходяться в одному м╕сц╕,
	вс╕ файли даних - в ╕ншому, документац╕я - ще в ╕ншому,
	тощо. Альтернативним п╕дходом ╓ групування файл╕в по ╖х
	належност╕ до певно╖ програми. Тобто, вс╕ файли, що належать до
	Emacs'а будуть розташован╕ в одн╕й директор╕╖, вс╕ файли в╕д
	\TeX\'а в ╕нш╕й, ╕ т.п. При такому п╕дход╕  проблемою ╓ те,
	що значно затрудня╓ться сп╕льне використання деяких файл╕в
	(директор╕╖ програм часто м╕стять обидв╕, як статичну так ╕
	динам╕чну верс╕╖ файл╕в) ╕ часто нав╕ть звичайний пошук
	потр╕бного файлу (наприклад, стор╕нки п╕дказки по певн╕й
	програм╕) перетворю╓ роботу в маячню.

\section{Коренева файлова система}

	Взагал╕ кажучи кореневу файлову систему краще мати
	невеличкою. Вона ма╓ м╕стити дуже критичн╕ файли, ╕ мала
	файлова система, яка зм╕ню╓ться часто, ма╓ б╕льше шанс╕в на
	виживання. Пошкодження коренево╖ файлово╖ системи у б╕льшост╕
	випадк╕в означа╓, що система неможливо завантажити без
	застосування спец╕альних заход╕в (як, наприклад, використання
	гнучких диск╕в для завантаження). Отож, нею краще не ризикувати.

	Коренева директор╕я загалом не ма╓ н╕яких файл╕в, х╕ба що кр╕м
	ядра системи, яке за традиц╕╓ю носить назву
	\fn{/vmlinuz}. ╤нш╕ файли, що м╕сяться в коренев╕й директор╕╖:

		%
	\begin{description}
	\item[\fn{/bin}]
		Команди необх╕дн╕ для завантаження системи, ╕ як╕
		можливо будуть використовуватися звичайними
		користувачами п╕сля завантаження.
	\item[\fn{/sbin}]

		Команди под╕бн╕ до тих, що ╓ в \fn{/bin}, але команди
		з \fn{/sbin} не призначен╕ для звичайних користувач╕в
		системи. Хоча, можливо, вони можуть користуватися цими
		командами, якщо це потр╕бно ╕ дозволено.

	\item[\fn{/etc}]
		Файли конф╕╜урац╕╖ специф╕чн╕ для ц╕╓╖ машини.
	\item[\fn{/root}]
		Домашня директор╕я користувача \texttt{root}.
	\item[\fn{/lib}]
		Б╕бл╕отеки сп╕льного використання, необх╕дн╕ для
		програм в коренев╕й файлов╕й систем╕. 
	\item[\fn{/lib/modules}]
		Модул╕ ядра, що п╕дгружаються, особливо т╕ з них, як╕
		потр╕бн╕ для завантаження системи при в╕дновленн╕ в╕д
		пошкоджень (як, наприклад, драйвери пристро╖в мереж╕
		та файлових систем).
	\item[\fn{/dev}]
		Файли спец╕альних пристро╖в.

	\item[\fn{/tmp}] М╕сце для запису тимчасових файл╕в. Програми,
		як╕ використовуються п╕сля завантаження, повинн╕
		користуватися директор╕╓ю \fn{/var/tmp}, а не
		\fn{/tmp} через те, що \fn{/var/tmp} скор╕ше всього
		знаходиться на б╕льшому диску. 

	\item[\fn{/boot}] Файли, що використовуються системним
		завантажувачем, таким, як наприклад, LILO. Файли ядра
		системи часто знаходяться в ц╕й директор╕╖ зам╕сть
		коренево╖. Коли к╕льк╕сть скомп╕льваних ядер зроста╓,
		ця директор╕я може зб╕льшуватися досить швидко, ╕ це
		може послужити причиною вид╕лення ╖╖ у власну файлову
		систему. ╤ншою причиною щоб мати директор╕ю на сво╓му
		власному розд╕л╕, може бути та, що таким чином можна
		забезпечити, що ядро буде завжди знаходитися в межах
		1024~ цили╕ндр╕в на IDE диску.

	\item[\fn{/mnt}]
		Точка для тимчасового монтування директор╕й
		системним адм╕н╕стратором. ╤нш╕ програми не повинн╕
		використовувати ╖╖ для автоматичного
		монтування. \fn{mnt} може бути розд╕леною на
		п╕ддиректор╕╖ (наприклад, \fn{/mnt/dosa} може бути
		точкою монтування гнучких диск╕в з файловою системою
		MS-DOS, а точка \fn{/mnt/exta} може використовуватися
		для монтування того ж гнучкого диску т╕льки з файловою
		системою ext2 на ньому).
	\item[\fn{/proc}, \fn{/usr}, \fn{/var}, \fn{/home}]
		Точки монтування ╕нших файлових систем.
	\end{description}

\subsection{Директор╕я \fn{/etc}}

	Ця директор╕я ма╓ безл╕ч файл╕в. Деяк╕ з них описуються нижче
	по тексту. Щодо ╕нших, Ви повинн╕ спершу визначити, до
	яко╖ програми вони в╕дносяться ╕ звернутися до п╕дказки по
	ц╕й програм╕. Б╕льш╕сть файл╕в конф╕╜урац╕╖ мереж╕ знаходяться
	в ц╕й же директор╕╖, але описуються в Пос╕бнику адм╕н╕стратору
	мереж╕. 
		%
	\begin{description}
	\item[\fn{/etc/rc} або \fn{/etc/rc.d} або \fn{/etc/rc?.d}]
	Скрипти чи директор╕╖ ╕з скриптами, що виконуються при старт╕
	системи, чи при зм╕н╕ робочого р╕вня. Детальна ╕нформац╕я по
	цих файлах  (директор╕ям) да╓ться в розд╕л╕ про \cmd{init}.

	\item[\fn{/etc/passwd}]
	База даних користувач╕в системи. Поля бази м╕стять ╕м'я
	користувача в систем╕, справжн╓ ╕м'я користувача, домашню
	директор╕ю, закодований пароль та ╕ншу ╕нформац╕ю про кожного
	з користувач╕в. Формат файлу описаний в стор╕нц╕ п╕дказки
	\man{passwd}. 

	\item[\fn{/etc/fdprm}]
	Таблиця параметр╕в гнучкого диску. Опису╓ як виглядають р╕зн╕
	формати гнучких диск╕в. Використову╓ться
	\cmd{setfdprm}. Б╕льше ╕нформац╕╖ можна отримати з стор╕нки
	п╕дказки \man{setfdprm}.

	\item[\fn{/etc/fstab}] Перел╕чу╓ вс╕ т╕ файлов╕ системи, як╕
	монтуються автоматично при запуску системи командою
	\texttt{mount -a} (╕з скрипту \fn{/etc/rc} чи под╕бного до
	нього за призначенням). В Л╕накс╕ м╕стить також ╕нформац╕ю про
	облат╕ своп╕н╜у, що автоматично використовуються при
	виконанн╕ команди \texttt{swapon -a}. Б╕льш детальна
	╕нформац╕я доступна в розд╕л╕~\ref{subsec:mount} ╕ в стор╕нц╕
	п╕дказки \man{mount}.

	\item[\fn{/etc/group}] 
	За призначенням та форматом под╕бний до
	файлу \fn{/etc/passwd}, але опису╓ групи користувач╕в зам╕сть
	╕ндив╕дуальних даних про них. Див. стор╕нку п╕дказки
	\man{group}.

	\item[\fn{/etc/inittab}]
	Файл конф╕╜урац╕╖  \cmd{init}.

	\item[\fn{/etc/issue}]
	Текст, який виводиться  на екран командою \cmd{getty} при
	ре╓страц╕╖ в систем╕. Найчаст╕ше м╕стить короткий опис системи
	або запрошення до системи. Склад цього файлу залежить в╕д
	бажання системного адм╕н╕стратора. 

	\item[\fn{/etc/magic}]
	Файл конф╕╜урац╕╖ для команди  \cmd{file}. В╕н м╕стить в соб╕ опис
	р╕зних формат╕в файл╕в. Базуючись на цих форматах  \cmd{file} визнача╓
	тип файлу. Див. стор╕нки п╕дказок по \man{magic} та \man{file}
	для повного опису.

	\item[\fn{/etc/motd}] 
	\defin{Фраза дня} \intnote{message of
	the day}. Ця фраза автоматично виводиться на екран п╕сля
	усп╕шно╖ ре╓страц╕╖ в систем╕. Зм╕ст запису в файл╕ залежить
	в╕д бажання системного адм╕н╕стратора. Часто використову╓ться
	для того, щоб донести якусь ╕нформац╕ю до кожного користувача,
	таку як, наприклад, попередження про вимкнення чи проф╕лактику
	системи.

	\item[\fn{/etc/mtab}] 
	Список змонтованих в даний момент
	файлових систем. Напочатку цей файл створю╓ться скриптами при
	завантаженн╕ системи. П╕сля завантаження в╕н автоматично поновлю╓ться
	командою \cmd{mount}. Цей файл використову╓ться тод╕, коли
	потр╕бно отримати список змонтованих на даний час файлових
	систем, як, наприклад, при використанн╕ команди \cmd{df}.

	\item[\fn{/etc/shadow}] "<Т╕ньовий"> файл парол╕в. ╢ в системах
	з встановленою п╕дтримкою т╕ньових парол╕в. При використанн╕
	т╕ньових парол╕в, зашифрован╕ парол╕ збер╕гаються в
	\fn{/etc/shadow} зам╕сть \fn{/etc/passwd}. Перший з цих двох
	файл╕в на в╕дм╕ну в╕д останнього закритий для прочитання для
	вс╕х кр╕м користувача \texttt{root}. Це п╕двищу╓ безпеку
	системи ╕ покращу╓ захист в╕д злому парол╕в.

	\item[\fn{/etc/login.defs}]
	Файл конф╕╜урац╕╖ для команди \cmd{login}.

	\item[\fn{/etc/printcap}]
	Файл под╕бний до \fn{/etc/termcap}, але м╕стить описи
	принтер╕в. Ма╓ ╕нший синтаксис.

	\item[\fn{/etc/profile}, \fn{/etc/csh.login},	\fn{/etc/csh.cshrc}]
	Файли, як╕ виконуються при ре╓страц╕╖ в систем╕ командними
	оболонками Бьорна та С╕. Ц╕ файли дають системному
	адм╕н╕стратору можлив╕сть встановити однаков╕ початков╕
	параметри для вс╕х користувач╕в системи. Див. стор╕нки
	п╕дказки до в╕дпов╕дних командних оболонок.

	\item[\fn{/etc/securetty}]

	Визнача╓ безпечн╕ терм╕нали, тобто, так╕ терм╕нали, з яких
	дозволено ре╓страц╕ю в систем╕ користувачев╕ \texttt{root}. В
	б╕льшост╕ випадк╕в в цьому файл╕ вказуються т╕льки в╕ртуальн╕
	терм╕нали системи. Злом системи через мережу або модем ста╓
	неможливим (або, як м╕н╕мум, набагато важчим).
	

	\item[\fn{/etc/shells}]

	Перел╕чу╓ командн╕ оболонки "<з дов╕рою">
	\intnote{trusted}. Команда \cmd{chsh} дозволя╓ користувачам
	зм╕нювати ╖х початкову програмну оболонку. Але команда зм╕нить
	командну оболонку т╕льки на ту з них, яка ╓ в цьому
	файл╕. Процес \cmd{ftpd} - процес, що забезпечу╓ FTP серв╕с на
	машин╕, буде перев╕ряти, чи ╓ оболонка користувача в списку
	\fn{/etc/shells} ╕ не дозволить заре╓струватися в систем╕ тим
	користувачам, чи╖х оболонок тут нема.

	\item[\fn{/etc/termcap}]

	База даних властивостей терм╕нал╕в. Цей файл опису╓ як╕
	"<ESC-посл╕довност╕"> використовуються при робот╕ з тими чи
	╕ншими терм╕налами. "<ESC"> посл╕довност╕ будуть працювати
	т╕льки для одного типу терм╕налу. Тому програми пишуться таким
	чином, щоб зам╕сть того, щоб безпосередньо виводити "<ESC">
	символи на екран, вони в╕дшукують потр╕бну посл╕довн╕сть у
	баз╕ \fn{/etc/termcap}. У результат╕ б╕льш╕сть програм може
	працювати з переважною б╕льш╕стю терм╕нал╕в. Для б╕льш повно╖
	╕нформац╕╖ з цього питання зверн╕ться до стор╕нок п╕дказок з
	\man{termcap}, \man{curs\_termcap} та \man{terminfo}.
	\end{description}

%	\meta HOSTNAME, adjtime, disktab, gettydefs, networking
%	(exports, host.conf, hosts, hosts.equiv, inetd.conf, named.*,
%	networks, ntp.conf, protocols, resolv.conf, rpc, services,
%	syslog.conf), mtools, and so forth.

\subsection{Директор╕я  \fn{/dev}}

	Директор╕я \fn{/dev} м╕стить файли спец╕альних пристро╖в для
	б╕льшост╕ можливих пристро╖в. Вс╕ файли пристро╖в носять назви
	в╕дпов╕дно до спец╕альних домовленостей. Вс╕ вони описан╕ в
	списку пристро╖в (див.~\cite{device-list}). Файли пристро╖в
	створюються п╕д час установки системи, або п╕сля цього за
	допомогою скрипта \cmd{/dev/MAKEDEV}. Скрипт
	\cmd{/dev/MAKEDEV.local} - це скрипт, що створю╓ться системним
	адм╕н╕стратором ╕ який створю╓ т╕льки т╕ файли пристро╖в, як╕ ╓
	властивими для дано╖ системи (тобто т╕, що не ╓ складовими
	стандартного \cmd{/dev/MAKEDEV}, так╕, як файли драйвер╕в
	нестандартних апаратних засоб╕в). 

\section{Файлова система  \fn{/usr}}

	Часто файлова система \fn{/usr} досить велика, через те, що
	вс╕ програми встановлюються саме тут. Вс╕ файли, що
	знаходяться в \fn{/usr} попадають сюди при установц╕ Л╕накса,
	локально встановлен╕ програми та вс╕ ╕нш╕ реч╕ часто попадають
	в \fn{/usr/local}. Завдяки цьому легко можна поновити систему
	при появ╕ ново╖ верс╕╖, або нав╕ть встановити повн╕стю нову
	систему. При цьому не потр╕бно встановлювати вс╕ програми з
	самого початку.

	Нижче подано деяк╕ з п╕ддиректор╕й, що лежать "<нижче">
	директор╕╖ \fn{/usr} (деяк╕ з менш важливих опущен╕,
	детальн╕ша ╕нформац╕я м╕ститься в FSSTND).

		%
	\begin{description}
	\item[\fn{/usr/X11R6}]

		Система X Window (вс╕ ╖╖ файли). Для полегшення
		розробки та встановлення X, вс╕ X файли не були включен╕ в
		систему вц╕лому. 
		\begin{intnote}На в╕дм╕ну в╕д Л╕накса, в 
		SunOS та Solaris вс╕ X файли потрапляють в р╕зн╕
		директор╕╖ п╕д \fn{/usr}: \fn{/usr/bin/X11},
		\fn{/usr/lib/X11} ╕ т.╕н.
		\end{intnote} 
		Вниз в╕д \fn{/usr/X11R6}
		"<росте"> ц╕ле дерево под╕бне до того, що ╓ внизу п╕д
		\fn{/usr}. 

	\item[\fn{/usr/X386}]

		Под╕бна до \fn{/usr/X11R6} директор╕я, але призначена
		для верс╕╖  X11 Release 5. \begin{intnote}Люди, що починають
		працювати з Л╕наксом вже п╕сля того, як цей пос╕бник
		переклада╓ться можливо вже н╕коли не будуть мати
		справу з \fn{X11R5}, але для спок╕йн╕шого життя  варто
		все-таки мати символ╕чну ссилку \fn{/usr/X386}, яка вказу╓
		на \fn{/usr/X11R6}(так само варто мати \fn{/usr/X11},
		що вказу╓ на ту ж директор╕ю. Час в╕д часу то та, то
		╕нша програма почина╓ щось шукати в \fn{/usr/X386}.\end{intnote}

	\item[\fn{/usr/bin}]
		Майже вс╕ команди, що ними користу╓ться
		користувач. Деяк╕ команди знаходяться також в
		\fn{/bin} та \fn{/usr/local/bin}.
	\item[\fn{/usr/sbin}]
		Команди для системно╖ адм╕н╕страц╕╖, як╕ не потр╕бн╕ в
		коренев╕й файлов╕й систем╕, наприклад, б╕льш╕сть
		програм сервер╕в. 
	\item[\fn{/usr/man}, \fn{/usr/info}, \fn{/usr/doc}]
		Стор╕нки п╕дказки \intnote{man pages}, документи
		╕нформац╕╖ \intnote{Info} GNU та р╕зноман╕тн╕ файли
		документац╕╖ (в╕дпов╕дно).
	\item[\fn{/usr/include}]
		Файли заголовк╕в для програм на мов╕ С╕. Насправд╕,
		все це повинно-б бути десь в глибинах \fn{/usr/lib},
		але традиц╕я перемага╓ ╕ файли знаходяться тут. 
	\item[\fn{/usr/lib}]
		Файли даних для програм та п╕дсистем, як╕ не
		зм╕нюются в процес╕ роботи (включаючи деяк╕
		загальносистемн╕ файли конф╕╜урац╕╖). Назва
		\texttt{/lib} походить в╕д "<б╕бл╕отека">
		\intnote{library} - початково тут збер╕галися
		б╕бл╕отеки для програмування. 
	\item[\fn{/usr/local}]
		М╕сце, де встановлюються специф╕чн╕ для дано╖ системи
		програми та ╕нш╕ файли. 
	\end{description}

\section{Файлова система  \fn{/var}}

	Файлова система \fn{var} збер╕га╓ дан╕, як╕ зм╕нюються при
	звичайн╕й робот╕ системи. Ц╕ дан╕ ╓ специф╕чними для кожно╖
	окремо взято╖ системи, тобто вони не використовуються сп╕льно
	к╕лькома комп'ютерами в мереж╕. \begin{intnote}Не завжди, в деяких
	випадках виявля╓ться виг╕дн╕ше монтувати NFS нав╕ть деяк╕
	директор╕╖ п╕д \fn{/var}. Див. нижче про \fn{/var/spool/mail}\end{intnote}
		%
	\begin{description}
	\item[\fn{/var/catman}]
		Кеш для в╕дформатованих за потребою стор╕нок
		п╕дказок. Неформатован╕ тексти стор╕нок п╕дказок звичайно
		збер╕гаються п╕д \fn{/usr/man/man*}. Деяк╕ строр╕нки
		можуть бути встановленими в уже в╕дформатованому
		вигляд╕, ╕ збер╕гаються вони в \fn{/usr/man/cat*}. Але
		╕нш╕ стор╕нки потр╕бно в╕дформатувати перш, н╕ж
		переглядати. П╕сля форматування так╕ стр╕нки
		збер╕гаються в \fn{/var/man}, тобто при наступному
		перегляд╕ вже не потр╕бно чекати повторного
		форматування. Директор╕ю \fn{/var/man} потр╕бно час
		в╕д часу спорожняти так само, як це робиться для
		тимчасових директор╕й.
	\item[\fn{/var/lib}]
		Файли, як╕ зм╕нюються при нормальн╕й робот╕ системи.
	\item[\fn{/var/local}]
		Зм╕нн╕ дан╕ для програм, як╕ встановлен╕ в
		\fn{/usr/local} (тобто програм встановлених системним
		адм╕н╕стратором). Зауважимо, що нав╕ть локально
		встановлен╕ програми повинн╕ користуватися ╕ншими
		директор╕ями п╕д \fn{/var} коли це ╖м необх╕дно. 
	\item[\fn{/var/lock}]
		Файли "<замк╕в"> \intnote{lock}. Багато як╕ з програм
		в╕дпов╕дно до загально╖ домовленост╕ створюють замки в
		\fn{/var/lock}, щоб вказати, що той чи ╕нший
		спец╕альний файл ╓ замкненим в даний момент (п╕д час
		роботи дано╖ програми). ╤нш╕ програми, пом╕тивши замок
		не намагатимуться користуватися пристро╓м, якщо його
		спец╕альний файл замкнено. 
	\item[\fn{/var/log}]
		Файли ре╓страц╕╖ \intnote{log files}р╕зноман╕тних
		програм, особливо програм \cmd{login}
		(\fn{/var/log/wtmp}, в якому м╕стяться записи про вс╕
		ре╓страц╕╖ (входи) в систему та виходи з не╖) та
		\cmd{syslog} (\fn{/var/log/messages}, в якому
		записуюються пов╕домлення в╕д ядра системи та
		системних програм). Файли в \fn{/var/log} потенц╕йно
		можуть зростати неск╕нченно, ╕ в╕д адм╕н╕стратора
		вимага╓ться спорожняти ╖х через певн╕ пром╕жки часу. 
	\item[\fn{/var/run}]
		Файли, що м╕стять ╕нформац╕ю про систему в╕д одного
		старту системи до ╕ншого. Так \fn{/var/run/utmp}
		м╕стить ╕нформац╕ю про особ, як╕ користуються системою
		в даний момент. 
	\item[\fn{/var/spool}]
		Директор╕╖ для черг електронно╖ пошти, новин,
		принтер╕в та ╕нших можливих черг. Кожна окрема черга
		ма╓ свою власну директор╕ю п╕д \fn{/var/spool}, тобто
		поштов╕ скриньки користувач╕в збер╕гаються в
		\fn{/var/spool/mail}.
	%
		\begin{intnote}
		В деяких випадках бува╓ зручн╕ше монтувати
		\fn{/var/spool/mail} як NFS директор╕ю з поштового
		сервера. Наприклад, розглянемо орган╕зац╕ю з великою
		розгалуженою мережею робочих станц╕й ╕ одним основним
		розпод╕льником пошти (поштовим вузлом (mail
		hub)). Якщо пошта розпод╕ля╓ться з головного поштового
		розпод╕льника по робочих станц╕ях, кожна робоча
		станц╕я буде мати т╕льки поштов╕ скрин╕ ос╕б, як╕
		працюють на дан╕й станц╕╖. Отож, неможливо прочитати
		свою пошту при переход╕ на ╕нший комп'ютер. Звичайно,
		можна користуватися POP-поштою, але це тема для ╕ншо╖
		розмови ╕ кр╕м того вона ма╓ сво╖ проблеми. Кр╕м того
		на поштовому вузл╕ потр╕бно буде пост╕йно п╕дтримувати
		в робочому стан╕ файл \fn{/etc/aliases} або базу даних
		користувач╕в, в якому збер╕гаються адреси (поштов╕
		"<псевда">) користувач╕в системи - де, на як╕й робоч╕й
		станц╕╖, той чи ╕нший користувач хот╕в би читати свою
		пошту. Вих╕д ╕з ц╕╓╖ ситуац╕╖ виявля╓ться
		надзвичайно простим. Достатньо орган╕зувати одну-╓дину
		директор╕ю \fn{/var/spool/mail} на поштовому вузл╕ ╕
		монтувати ╖╖ на кожн╕й робоч╕й станц╕╖, як проблеми
		в╕дпадають сам╕ собою. Кожне робоче м╕сце буде мати вс╕ поштов╕
		скриньки змонтован╕ в \fn{/var/spool/mail} ╕ кожен
		користувач зможе читати свою пошту на будь-якому
		робочому м╕сц╕.\end{intnote}

	\item[\fn{/var/tmp}] 
	
		Велик╕ тимчасов╕ файли або так╕, яким дозволено жити
		довше, н╕ж тим, що живуть в \fn{/tmp}. (Хоча системний
		адм╕н╕стратор може також заборонити занадто довге
		перебування ╕ в \fn{/var/tmp} також.)
		\end{description}


\section{Файлова система  \fn{/proc}}
	Файлова система \fn{/proc} ╓ ╕люзорною. Вона не ╕сну╓ на
	диску. Зам╕сть цього ядро створю╓ "<зображення"> файлово╖
	системи в пам'ят╕. Використову╓ться вона для надання
	╕нформац╕╖ про систему (початково використовувалася для
	надання в╕домостей про процеси, зв╕дси ╖╖
	назва). \begin{intnote}Solaris ма╓ також файлову систему %
	\fn{proc}. Тут вона ╕ ╓ саме тим - вона м╕стить т╕льки %
	╕нформац╕ю про процеси.\end{intnote} Пояснення до деяких з ╖╖ важлив╕ших
	файл╕в та директор╕й подано дал╕. Подробиц╕ \fn{/proc} описан╕
	в стор╕нц╕ п╕дказки по \man{proc}.

		%
	\begin{description}
	\item[\fn{/proc/1}]

		Директор╕я з ╕нформац╕╓ю про процес з номером 1. Кожен
		процес ма╓ власну директор╕ю в \fn{/proc}. Назва
		директор╕╖ в╕дпов╕да╓ номеру процесу.

	\item[\fn{/proc/cpuinfo}]

		╤нформац╕я про процесор, така як його тип, виробник,
		модель та виробнича потужн╕сть. 

	\item[\fn{/proc/devices}]

		Список драйвер╕в пристро╖в сконф╕╜урованих в
		працюючому ядр╕ на даний момент .

	\item[\fn{/proc/dma}]

		Показу╓ як╕ канали ПДП (прямого доступу до пам'ят╕)
		\intnote{DMA - direct memory access} використовуються
		на даний момет.

	\item[\fn{/proc/filesystems}]

		Файлов╕ системи сконф╕╜урован╕ в ядр╕.

	\item[\fn{/proc/interrupts}]

		Показу╓ як╕ перепини \intnote{interruprts} знаходяться
		в користуванн╕.

	\item[\fn{/proc/ioports}]

		Як╕ порти вводу/виводу\intnote{I/O - input/output}
		знаходяться в використанн╕.  

	\item[\fn{/proc/kcore}]

		Точний образ ф╕зично╖ пам'ят╕ системи. Цей образ ма╓
		точн╕с╕нько такий розм╕р, як ╕ ф╕зична пам'ять в
		комп'ютер╕, але не забира╓ н╕яко╖ пам'ят╕ у
		системи. Цей образ створю╓ться "<на льоту"> в той час,
		як програми звертаються до пам'ят╕. (Пам'ятайте: жоден
		файл чи директор╕я, як╕ знаходяться в \fn{/proc} не
		займають жодного байта пам'ят╕ на диску чи в
		оперативн╕й пам'ят╕ (до тих п╕р поки Ви не скоп╕ю╓те
		╖х куди-небудь).

	\item[\fn{/proc/kmsg}]

		Пов╕домлення, як╕ видаються ядром. Кр╕м цього вони
		також перенаправляються в \cmd{syslog}.

	\item[\fn{/proc/ksyms}]
		Таблиця символ╕в ядра.

	\item[\fn{/proc/loadavg}]

		"<Середня завантажен╕сть"> системи. Три позбавлен╕
		зм╕сту ╕ндикатори, як╕ показують наск╕льки система
		завантажена.\begin{intnote}
		%
		Дозволю соб╕ не погодитися з твердженням про
		"<зм╕стовн╕сть"> даних ╕ндикатор╕в. Три числа, як╕
		вказують на завантаження системи, ╓ середня к╕льк╕сть
		процес╕в, як╕ стоять в черз╕ на доступ до процесора,
		заф╕ксована в три р╕зн╕ моменти часу, а саме: на час
		в╕дкриття файлу \fn{/proc/loadavg} (Чи на час
		виконання команди \cmd{uptime} в системах, як╕ не
		мають \fn{/proc/loadavg}, як, наприклад, SunOS,
		Solaris чи Л╕накс з ядром до 1.3.59), п'ять хвилин
		тому та п'ятнадцять хвилин тому. В систем╕ з одним
		користувачем, процесор майже завжди спить,
		прокидаючись лиш на коротк╕ мит╕ щоб в╕ддати коротке
		розпорядження комусь ╕з п╕длеглих - дискам, пам'ят╕ чи
		дисплею та щоб знову заснути п╕сля цього. Тому ╕
		завантаження тако╖ системи завжди буде не б╕льше, н╕ж
		0,1-0,2. Пристойно завантажений сервер покаже 2-3
		процеси, яких мучить безсоння чи не да╓ спати турбота
		про користувача. Якщо ж \fn{loadavg} ф╕ксу╓
		навантавження б╕ля 10-20, то це ╓ ознакою того, що
		щось негаразд ╕з даною системою - з яко╖сь причини
		навантаження на сервер занадто велике.\end{intnote}  

	\item[\fn{/proc/meminfo}]
		╤нформац╕я про користування пам'яттю, як оперативною,
		так ╕ своп╕н╜ом.
	\item[\fn{/proc/modules}]
		Завантажен╕ в даний момент модул╕ ядра.
	\item[\fn{/proc/net}]
		╤нформац╕я про протоколи мереж╕.
	\item[\fn{/proc/self}]
		Символ╕чна ссилка на директор╕ю процесу то╖ програми,
		яка в даний момент загляда╓ в \fn{proc}. Якщо два
		процеси одночасно дивляться в \fn{/proc}, обидва з них
		отримують по власн╕й ссилц╕. В основному це зроблено
		для зручност╕, щоб дати можлив╕сть програмам
		потрапляти у власн╕ директор╕╖ процес╕в. 
	\item[\fn{/proc/stat}]
		Р╕зноман╕тна статистика системи, така як, скаж╕мо,
		к╕льк╕сть нестач стор╕нок пам'ят╕\intnote{page fault}
		з часу вмикнення системи. 
	\item[\fn{/proc/uptime}]
		Час, на протяз╕ якого система працю╓. 
	\item[\fn{/proc/version}]
		Верс╕я ядра.
	\end{description}
		%
	Варто зазначити, що хоча  файли з \fn{/proc} ╓ звичайними
	текстовими файлами, ╖х фомат не завжди легкий для
	людського ока. Тому багато як╕ з команд роблять т╕льки те, що читають
	файли в \fn{/proc} ╕ видають ╖х на екран у "<людському">
	формат╕. Наприклад, команда \cmd{free} чита╓ файл
	\fn{/proc/meminfo} та конверту╓ його в представлення пам'ят╕ в
	к╕ло та ме╜а байтах та дода╓ в╕д себе деяку ╕нформац╕ю. 
